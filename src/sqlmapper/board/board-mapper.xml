<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="board">
	<select id="listAll" resultType="net.e4net.s1.board.vo.BoardVO">
		SELECT board_bno as boardBno,
			   board_title as boardTitle,
			   board_content as boardContent,
			   board_writer as boardWriter,
			   board_regdate as boardRegdate,
			   board_viewcnt as boardViewcnt
		FROM tbl_board
		ORDER BY boardBno DESC, boardRegdate DESC
	</select>
	<insert id="insert">
		INSERT INTO tbl_board(board_bno, board_title, board_content, boar_writer)
		VALUES((SELECT NVL(MAX(board_bno)+1), 1) FROM tbl_board), #{boardTitle}, #{boardWriter})
	</insert>
	<select id="view" resultType="net.e4net.s1.board.vo.BoardVO">
		SELECT * FROM tbl_board
		WHERE board_bno = #{boardBno}
	</select>
	<update id="increaseViewcnt">
		UPDATE tbl_board SET board_viewcnt = board_viewcnt + 1
		WHERE board_bno = #{boardBno}
	</update>
	<update id="updateArticle">
		UPDATE tbl_board SET board_title = #{boardTitle}, board_content = #{boardContent}, board_wirter=#{boardWriter}
		WHERE board_bno = #{boardBno}
	</update>
	<delete id="deleteArticle">
		DELETE FROM tbl_board
		WHERE board_bno = #{boardBno}
	</delete>
</mapper>